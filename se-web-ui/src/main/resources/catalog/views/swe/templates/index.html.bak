<html lang="en" xmlns="http://www.w3.org/1999/html">

<div>

  <header data-ng-include="'../../catalog/views/swe/templates/header.html'"></header>

  <div data-gn-alert-manager=""></div><cookiewarning></cookiewarning>

  <div class="overlay"></div> 

  <!-- Mail comment popup -->
  <div id="mail-popup" class="popup mail-popup" data-ng-controller="SweMailController">
    <div class="popup-cont">
      <a href="" data-ng-click="close()" class="cls-btn icon-cancel"></a>
      <div class="popup-data">
        <div class="mail-data-cont">
          <div class="mail-data">
            <div class="mail-section-cont">
              <div class="mail-section">
                <h1>Tyck Till</h1>
                <p>Tyck Till ...</p>

                <div id="mail-feedback-result" data-ng-show="(feedbackResult != null) && (feedbackResultError == false)">
                  <p>{{feedbackResult}}</p>

                  <div class="btn-cont">
                    <div class="mail-actions-cont">
                      <a href="" class="link-btn publisher-user-login-btn" data-ng-click="close()">close</a>
                    </div>
                  </div>
                </div>

                <div id="mail-form" data-ng-show="(feedbackResult == null) ||Â (feedbackResultError == true)">
                  <div class="alert alert-danger" data-ng-show="feedbackResultError == true">{{feedbackResult}}</div>
                  <form name="feedbackForm" class="mail-form" novalidate>

                    <!-- NAME -->
                    <div data-ng-class="{'form-row': true, 'has-error' : feedbackForm.name.$invalid && !feedbackForm.name.$pristine }">
                      <label>Name</label>
                      <input type="text" class="input" name="name" ng-model="user.username" required>
                      <span class="errorField" data-ng-show="feedbackForm.name.$invalid && !feedbackForm.name.$pristine" class="help-block">You name is required.</span>
                    </div>

                    <!-- EMAIL -->
                    <div data-ng-class="{'form-row': true, 'has-error' : feedbackForm.email.$invalid && !feedbackForm.email.$pristine }">
                      <label>Email</label>
                      <input type="email" class="input" name="email" ng-model="user.email" required>
                      <span class="errorField" data-ng-show="feedbackForm.email.$invalid && !feedbackForm.email.$pristine" class="help-block">Enter a valid email.</span>
                    </div>

                    <!-- COMMENT -->
                    <div data-ng-class="{'form-row': true, 'has-error' : feedbackForm.comment.$invalid && !feedbackForm.comment.$pristine }">
                      <label class="label-text-area">Comment</label>
                      <textarea class="textarea" name="comment" ng-model="user.comments" required></textarea>
                      <span class="errorField" data-ng-show="feedbackForm.comment.$invalid && !feedbackForm.comment.$pristine" class="help-block">Your comment is required.</span>
                    </div>
                  </form>

                  <div class="btn-cont">
                    <div class="mail-actions-cont">
                      <a href="" class="link-btn publisher-user-login-btn" data-ng-click="sendMail()" data-ng-disabled="!feedbackForm.$valid">Send comment</a>
                      <a href="" class="link-btn publisher-user-login-btn" data-ng-click="close()">cancel</a>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Create metadata popup -->
  <div id="newmetadata-popup" class="popup mail-popup" data-ng-controller="SweNewMetadataController">
    <div class="popup-cont">
      <a href="" data-ng-click="close()" class="cls-btn icon-cancel"></a>
      <div class="popup-data">
        <div class="mail-data-cont">
          <div class="mail-data">
            <div class="mail-section-cont">
              <div class="mail-section">
                <h1>Create metadata</h1>
                <p>Select the type of metadata to create</p>

                <form name="newMetadataForm" novalidate>
                  <div data-ng-repeat="tpl in tpls">
                    <label>
                      <input type="radio" name="gn-record-type" id="radio-{{type}}" value="{{type}}"
                             data-ng-click="setActiveTpl(tpl)"
                             data-ng-checked="tpl==activeTpl"
                             class="ngr-radio"/>
        <span class="ngr-radio-label">
          {{tpl.title || tpl.defaultTitle}}
        </span>
                    </label>
                  </div>

                  <div class="row" data-ng-show="groups && groups.length > 1">
                    <label class="control-label ngr-md-label">
                      <span data-translate="">inGroup</span>:
                      <!-- <strong>{{(ownerGroup.label[lang] || '...') | translate}}</strong> -->
                    </label>

                    <div data-groups-combo="" data-owner-group="ownerGroup" lang="lang"
                         data-groups="groups" data-profile="Editor" data-exclude-special-groups="true"/>
                  </div>

                  <div class="btn-cont">
                    <div class="mail-actions-cont">
                      <a href="" class="link-btn publisher-user-login-btn" data-ng-click="createNewMetadata()" data-ng-disabled="!newMetadataForm.$valid">create</a>
                      <a href="" class="link-btn publisher-user-login-btn" data-ng-click="close()">cancel</a>
                    </div>
                  </div>

                </form>
              </div>

            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div data-ng-controller="GnSearchController" data-ng-search-form=""
       data-runSearch="true">
    <div class="main-wrapper" data-ng-controller="gnsSwe">
      <div class="site-wrapper">
        <!-- Filters -->
        <div data-ng-include="'../../catalog/views/swe/templates/filters.html'" data-ng-controller="SweFilterPanelController"></div>

        <div class="site-content">
          <!-- Map -->
          <!--<div class="floating-map-cont">
            <div class="floating-map">
              <span class="cursor-cont"><span class="icon-cursor"></span></span>
              <div class="map-img"></div>
            </div>
          </div>-->

          <div class="floating-map" data-gn-map-field="searchObj.searchMap"
               data-template-url="../../catalog/views/swe/directives/partials/mapfield.html"
               data-gn-map-field-geom="searchObj.params.geometry"
               data-gn-map-field-opt="searchObj.mapfieldOption"></div>

          <!-- Search form -->
          <div data-ng-include="'../../catalog/views/swe/templates/searchForm.html'"></div>

          <div class="geo-data-list-cont">
              <!-- Sort and change view -->
              <div class="list-filter-cont">
                <div class="sort-filter-cont">
                  <div class="sort-filter">
                    <span class="sort-filter-label">Sortera efter:</span>
                    <div class="filter-cont">

                       <div data-swe-sortby-combo=""
                         data-params="searchObj.params"
                         data-swe-sortby-values="searchObj.sortbyValues"></div>

                    </div>
                  </div>
                </div>
                <div data-gn-pagination="paginationInfo"
                     data-hits-values="searchObj.hitsperpageValues"
                    class="pagination-cont"
                     data-enable-hot-keys=""></div>

                <div class="loggedin-filter-link-cont">
                  <a href="">skapa ny metadatapost</a>
                  <a href="">export data</a>
                </div>
                <div class="alternate-views">
                  <ul>
                    <li><div class="list-view-btn detail-view active" data-ng-click="setFullViewResults()"><span></span></div></li>
                    <li><div class="list-view-btn compact-view" data-ng-click="setCompactViewResults()"><span></span></div></li>
                  </ul>
                </div>
              </div>

              <!-- Results -->
              <div data-ng-include="'../../catalog/views/swe/templates/resultList.html'" />
            </div>

          <!-- Result popup -->
          <div data-ng-include="'../../catalog/views/swe/templates/result.html'" />
        </div>
      </div>

      <div class="site-side-map-cont">
        <div class="site-side-map-wrapper">
          <!-- Full map -->
          <div class="map-cont">
            <ul class="map-tool-list" style="z-index: 1000">
              <li><a href="" data-ng-click="hideMapPanel()" class="icon-cancel"></a></li>
              <!--<li class=""><a href="" class="icon-buffer"></a></li>-->
              <li id="map-panel-resize" class="resize full"><a href="" data-ng-click="resizeMapPanel()"><span class="icon-resize-full"></span><span class="icon-resize-small"></span></a></li>
            </ul>
            <div gn-main-viewer=""
                 data-map="searchObj.viewerMap">
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="bottom-bar" data-ng-include="'../../catalog/views/swe/templates/footer.html'"></div>

</div>
